" Language:	QML
" Maintainer:	Warwick Allison &lt;warwick.allison@nokia.com&gt;
" Updaters:	
" URL:		
" Changes:	
" Last Change:	2009 Apr 30

" Based on javascript syntax (as is QML)

if !exists("main_syntax")
  if version &lt; 600
    syntax clear
  elseif exists("b:current_syntax")
    finish
  endif
  let main_syntax = 'qml'
endif

" Drop fold if it set but vim doesn't support it.
if version &lt; 600 &amp;&amp; exists("qml_fold")
  unlet qml_fold
endif

syn case ignore


syn keyword qmlCommentTodo      TODO FIXME XXX TBD contained
syn match   qmlLineComment      "\/\/.*" contains=@Spell,qmlCommentTodo
syn match   qmlCommentSkip      "^[ \t]*\*\($\|[ \t]\+\)"
syn region  qmlComment	       start="/\*"  end="\*/" contains=@Spell,qmlCommentTodo
syn match   qmlSpecial	       "\\\d\d\d\|\\."
syn region  qmlStringD	       start=+"+  skip=+\\\\\|\\"\|\\$+  end=+"\|$+  contains=qmlSpecial,@htmlPreproc
syn region  qmlStringS	       start=+'+  skip=+\\\\\|\\'\|\\$+  end=+'\|$+  contains=qmlSpecial,@htmlPreproc

syn match   qmlCharacter        "'\\.'"
syn match   qmlNumber	       "-\=\&lt;\d\+L\=\&gt;\|0[xX][0-9a-fA-F]\+\&gt;"
syn region  qmlRegexpString     start=+/[^/*]+me=e-1 skip=+\\\\\|\\/+ end=+/[gi]\{0,2\}\s*$+ end=+/[gi]\{0,2\}\s*[;.,)\]}]+me=e-1 contains=@htmlPreproc oneline
syn match   qmlObjectLiteralType "[A-Za-z][_A-Za-z0-9]*\s*\({\)\@="
syn match   qmlNonBindingColon "?[^;]*:"
syn match   qmlBindingProperty "\&lt;[A-Za-z][_A-Za-z.0-9]*\s*:"
syn match   qmlIdProperty "\&lt;id\s*:\s*[A-Za-z][_A-Za-z.0-9]*"

syn keyword qmlConditional	if else switch
syn keyword qmlRepeat		while for do in
syn keyword qmlBranch		break continue
syn keyword qmlOperator		new delete instanceof typeof
syn keyword qmlType		Array Boolean Date Function Number Object String RegExp
syn keyword qmlStatement		return with
syn keyword qmlBoolean		true false
syn keyword qmlNull		null undefined
syn keyword qmlIdentifier	arguments this var
syn keyword qmlLabel		case default
syn keyword qmlException		try catch finally throw
syn keyword qmlMessage		alert confirm prompt status
syn keyword qmlGlobal		self
syn keyword qmlReserved		abstract boolean byte char class const debugger double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile 

if exists("qml_fold")
    syn match	qmlFunction      "\&lt;function\&gt;"
    syn region	qmlFunctionFold	start="\&lt;function\&gt;.*[^};]$" end="^\z1}.*$" transparent fold keepend

    syn sync match qmlSync	grouphere qmlFunctionFold "\&lt;function\&gt;"
    syn sync match qmlSync	grouphere NONE "^}"

    setlocal foldmethod=syntax
    setlocal foldtext=getline(v:foldstart)
else
    syn keyword	qmlFunction      function
    syn match	qmlBraces	   "[{}\[\]]"
    syn match	qmlParens	   "[()]"
endif

syn sync fromstart
syn sync maxlines=100

if main_syntax == "qml"
  syn sync ccomment qmlComment
endif

" Define the default highlighting.
" For version 5.7 and earlier: only when not done already
" For version 5.8 and later: only when an item doesn't have highlighting yet
if version &gt;= 508 || !exists("did_qml_syn_inits")
  if version &lt; 508
    let did_qml_syn_inits = 1
    command -nargs=+ HiLink hi link &lt;args&gt;
  else
    command -nargs=+ HiLink hi def link &lt;args&gt;
  endif
  HiLink qmlComment		Comment
  HiLink qmlLineComment		Comment
  HiLink qmlCommentTodo		Todo
  HiLink qmlSpecial		Special
  HiLink qmlStringS		String
  HiLink qmlStringD		String
  HiLink qmlCharacter		Character
  HiLink qmlNumber		Number
  HiLink qmlConditional		Conditional
  HiLink qmlRepeat		Repeat
  HiLink qmlBranch		Conditional
  HiLink qmlOperator		Operator
  HiLink qmlType			Type
  HiLink qmlObjectLiteralType	Type
  HiLink qmlStatement		Statement
  HiLink qmlFunction		Function
  HiLink qmlBraces		Function
  HiLink qmlError		Error
  HiLink qmlNull			Keyword
  HiLink qmlBoolean		Boolean
  HiLink qmlRegexpString		String

  HiLink qmlIdentifier		Identifier
  HiLink qmlLabel		Label
  HiLink qmlException		Exception
  HiLink qmlMessage		Keyword
  HiLink qmlGlobal		Keyword
  HiLink qmlReserved		Keyword
  HiLink qmlDebug		Debug
  HiLink qmlConstant		Label
  HiLink qmlNonBindingColon	NONE
  HiLink qmlBindingProperty	Label
  HiLink qmlIdProperty		Identifier

  delcommand HiLink
endif

let b:current_syntax = "qml"
if main_syntax == 'qml'
  unlet main_syntax
endif

" vim: ts=8
